# 从根上理解IO复用的三种模式——select、poll、epoll

> select、poll、epoll三种IO复用模式对比
>
> | 对比项               | select                                         | poll                                           | epoll                                                  |
> | -------------------- | ---------------------------------------------- | ---------------------------------------------- | ------------------------------------------------------ |
> | 事件对象存储方式     | 位图                                           | 链表+数组                                      | 红黑树                                                 |
> | 底层实现             | 轮询：每次调用需要从内存拷贝全部事件到用户空间 | 轮询：每次调用需要从内存拷贝全部事件到用户空间 | 回调通知方式，每次调用只需从内存拷贝就绪事件到用户空间 |
> | 最大连接数           | 1024                                           | 理论上无上限（由系统资源池决定）               | 理论上无上限（由系统资源池决定）                       |
> | 是否适用于高并发场景 | 否。随着连接数增加，性能线性下降。             | 否。随着连接数增加，性能线性下降。             | 是。随着连接数增加，性能无明显递减。                   |
> | 编程难度             | 低                                             | 中                                             | 高                                                     |

相关链接：https://mp.weixin.qq.com/s/BFbnF1YU1jJXHjc7zYT18w
相关链接：https://mp.weixin.qq.com/s/Tmr49E8vya1cK4un2OXmQQ
相关链接：https://mp.weixin.qq.com/s/2jlr4BvUlLHBbyDu672PMg

## 一、Select

### 1、

![](image\1701852705420.png)

#### ①、

#### ②、

#### ③、

### 2、

![](image\1701852795105.png)

### 3、

## 二、poll

### 1、

### 2、

### 3、

## 三、epoll

### 1、

### 2、

### 3、